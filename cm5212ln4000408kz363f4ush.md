---
title: "Mastering Terraform: Harnessing Variables, Data Types, and Expressions in HCL"
datePublished: Tue Dec 24 2024 05:30:55 GMT+0000 (Coordinated Universal Time)
cuid: cm5212ln4000408kz363f4ush
slug: mastering-terraform-harnessing-variables-data-types-and-expressions-in-hcl
cover: https://cdn.hashnode.com/res/hashnode/image/upload/v1760987318523/3ec33749-d5cd-4714-8355-ae10991b57ee.png
tags: aws, devops, linkedin, terraform, 90daysofdevops

---

## "Demystifying the Building Blocks of Infrastructure Automation"

Imagine having a magic wand that creates and manages everything you need in the cloud, without you doing all the heavy lifting. Terraform is that magic wand for cloud infrastructure. It uses a language called **HCL (HashiCorp Configuration Language)** to tell computers and cloud providers what to build, from servers to networks and beyond.

In this article, we’ll explore three core concepts in Terraform: **variables**, **data types**, and **expressions**—the spells and tools that power Terraform’s magic. By the end, you’ll confidently use these to create flexible, reusable infrastructure code.

## **Table of contents**

* * Introduction
        
    * Task 1: Understand HCL Syntax Used in Terraform
        
        * 1.1 HCL Blocks, Parameters, and Arguments
            
        * 1.2 Explore Terraform Resources and Data Sources
            
    * Task 2: Understand Variables, Data Types, and Expressions in HCL
        
        * 2.1 Create a [variables.tf](http://variables.tf) File and Define a Variable
            
        * 2.2 Use the Variable in [main.tf](http://main.tf) to Create a Local File
            
    * Task 3: Practice Writing Terraform Configurations Using HCL Syntax
        
        * 3.1 Add Required Providers (e.g., Docker, AWS)
            
    * Conclusion
        

### Introduction

ITerraform’s HCL lets you describe your infrastructure in clear, human-readable files. Think of it like a set of instructions that Terraform follows to build and manage resources automatically.

### Task 1: Understand HCL Syntax Used in Terraform

## 1.1 HCL Blocks, Parameters, and Arguments

* **HCL Blocks** are like instruction manuals telling Terraform what to do. Examples include creating a virtual machine or network. Each block has a *type*, optional *labels*, and *arguments* inside.
    
* **Parameters** are settings inside these blocks (e.g., instance size, network name).
    
* **Arguments** assign values to parameters (e.g., instance type `"t2.micro"`, or IP range).
    

### 1.2)Explore the different types of resources and data sources available in Terraform

**Resources:**

Resources are the fundamental building blocks in Terraform. They are used to declare and manage infrastructure components that Terraform creates and manages

There are numerous types of resources available, each representing a specific infrastructure component or service offered by various cloud providers and platforms. Here are some common categories of resources you can work with in Terraform:

1. **Compute Resources:**
    
    * **AWS EC2 Instance**: Represents an Amazon Elastic Compute Cloud (EC2) instance.
        
    * **Azure Virtual Machine**: Represents a virtual machine in Microsoft Azure.
        
    * **Google Cloud Compute Instance**: Represents a virtual machine in Google Cloud Platform (GCP).
        
2. **Networking Resources:**
    
    * **VPC (Virtual Private Cloud)**: Represents a virtual network in AWS.
        
    * **Azure Virtual Network**: Represents a virtual network in Azure.
        
    * **Google Cloud VPC**: Represents a virtual network in GCP.
        
    * **Subnets, Security Groups, Route Tables**: Various networking components that configure network connectivity and security.
        
3. **Database Resources:**
    
    * **Amazon RDS**: Represents a managed relational database service in AWS.
        
    * **Azure Database**: Represents a managed database service in Azure.
        
    * **Google Cloud SQL**: Represents a managed database service in GCP.
        
4. **Storage Resources:**
    
    * **AWS S3 Bucket**: Represents an object storage bucket in AWS.
        
    * **Azure Storage Account**: Represents a storage account in Azure.
        
    * **Google Cloud Storage Bucket**: Represents a bucket in GCP.
        
5. **Container Resources:**
    
    * **Docker Container**: Represents a Docker container.
        
    * **AWS ECS Service**: Represents a service in Amazon Elastic Container Service (ECS).
        
    * **Azure Container Instance**: Represents a container instance in Azure.
        
6. **Identity and Access Management (IAM) Resources:**
    
    * **IAM Role and Policy**: Used for defining permissions and access policies in cloud platforms.
        
    * **Service Account**: Represents a service account for granting permissions in GCP.
        
7. **Monitoring and Logging Resources:**
    
    * **CloudWatch Alarm**: Represents an alarm in AWS CloudWatch.
        
    * **Azure Monitor Alert**: Represents an alert rule in Azure Monitor.
        
    * **Google Cloud Monitoring Alert Policy**: This represents an alert policy in GCP.
        
8. **Load Balancing Resources:**
    
    * **AWS ELB (Elastic Load Balancer)**: Represents a load balancer in AWS.
        
    * **Azure Load Balancer**: This represents a load balancer in Azure.
        
    * **Google Cloud Load Balancer**: Represents a load balancer in GCP.
        
9. **Serverless Resources:**
    
    * **AWS Lambda Function**: Represents a serverless function in AWS Lambda.
        
    * **Azure Functions**: Represents a serverless function in Azure Functions.
        
    * **Google Cloud Functions**: Represents a serverless function in GCP Cloud Functions.
        
10. **Infrastructure as Code (IaC) Resources:**
    
    * **Terraform Configuration**: Represents your Terraform code and configurations.
        

**Data Sources:**

Data sources allow you to fetch information from an existing infrastructure or external source and use it within your Terraform configuration. Data sources are read-only; they provide information that helps you make decisions or configure your resources.

Here are some common scenarios where data sources are useful:

1. **Fetching Existing Resources:**
    
    * You can use data sources to retrieve details about existing resources in your cloud environment, such as virtual networks, security groups, or database instances.
        
2. **Querying External Services:**
    
    * Data sources can fetch data from external services, APIs, or databases to make decisions or configure your infrastructure based on external information.
        
3. **Determining AMI IDs:**
    
    * When launching instances in AWS, you might use a data source to determine the latest or specific Amazon Machine Image (AMI) ID based on filters like the operating system or region.
        
4. **Getting IP Addresses:**
    
    * Data sources can fetch IP addresses or DNS names of existing resources to configure network connectivity.
        

### Task 2: Understand variables, data types, and expressions in HCL

**1)Variables:**

* **Definition:** Variables allow you to parameterize your Terraform configurations, making them more flexible and reusable. Variables are like placeholders for values that you can provide when applying your Terraform configuration.
    
* **Declaration:** You define variables in a `variables` block within your Terraform configuration.
    

**2)Data Types:**

Terraform supports several data types, including:

**String:** Represents text values.

**Number:** Represents numeric values.

**Boolean:** Represents true or false values.

**List:** Represents a sequence of values.

**Map:** Represents key-value pairs.

**3)Expressions:**

* **Definition:** Expressions are used to perform operations, calculations, and transformations within your Terraform configuration. You can use expressions to combine variables, manipulate strings, perform arithmetic, and more.
    
* **Usage:** You typically use expressions when defining resource attributes, variable values, or other configuration values.
    
    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1694519670077/e00d4865-77cb-4a13-b36a-1e5be9fb63dc.png?auto=compress,format&format=webp align="left")
    

In this example, we're using variables (`var.instance_type` and `${var.environment}`) and expressions (`"web-${var.environment}"`) within the resource configuration.

### 2.1)Create [**variables.tf**](http://variables.tf/) **file and define a variable**

**Step 1:** Create a new file named [**variable.tf**](http://variables.tf/) in your Terraform project directory and Open [**variable.tf**](http://variables.tf/) in a text editor.

**Step 2:** Inside [**variable.tf**](http://variables.tf/), let’s define a variable named demo\_file of type string with a default value.

![](https://cdn.hashnode.com/res/hashnode/image/upload/v1694515941442/c83463bd-3c46-4438-ac2a-32617f4b5c96.png?auto=compress,format&format=webp align="left")

Output:

![](https://cdn.hashnode.com/res/hashnode/image/upload/v1694516176882/0ae57f8f-ddfe-4df0-bfbc-249fae90dd23.png?auto=compress,format&format=webp align="left")

1. Variable declares a new variable.
    

2)demo\_file is the name of variable.

1. Type specifies the data type of the variable. Here, it is set to string.
    
2. Default sets a default value for the variable. If no value is provided, this default value will be used.
    

### 2.2)Use the variable in a [**main.tf**](http://main.tf/) **file to create a "local\_file" resource**

* Use the variable in [**main.tf**](http://main.tf/) to create a file. In your [**main.tf**](http://main.tf/) file, you can utilize the demo\_file variable within the “local\_file” resource configuration.
    
    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1694516592890/ef46deb7-a5c3-439a-b81a-17efa2ccd046.png?auto=compress,format&format=webp align="left")
    

output:

![](https://cdn.hashnode.com/res/hashnode/image/upload/v1694516623483/beb2bf75-6dff-4bb6-ae95-531e27336e9f.png?auto=compress,format&format=webp align="left")

* After creating the [**main.tf**](http://main.tf/) file then run the file using “terraform apply”.
    
    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1694516674389/f1c49372-2e3f-4d4b-8a46-b449ff433837.png?auto=compress,format&format=webp align="left")
    
    ![](https://cdn.hashnode.com/res/hashnode/image/upload/v1694516742932/45ab60ae-3938-4c59-98a7-03d1e4289f07.png?auto=compress,format&format=webp align="left")
    
* Here you can see after apply, a file is created by the name demo.txt
    

### Task 3: Practice writing Terraform configurations using HCL syntax

### 3.1) Add required\_providers to your configuration, such as Docker or AWS

**Step 1:** Create a [**main.tf**](http://main.tf/) file:  
Create a new file named main. tf in your project directory and open it in a text editor.

**Step 2:** Add provider configuration: Inside [**main.tf**](http://main.tf/), let’s add the required provider configuration, such as Docker or AWS. For this example, we will add the AWS provider.

![](https://cdn.hashnode.com/res/hashnode/image/upload/v1694517403790/7c210c29-31d9-4d32-ac70-ef4363beda12.png?auto=compress,format&format=webp align="left")

**Step 3:** Save the configuration file and run **terraform init** again in the project directory. This will download and install the necessary provider plugins.

![](https://cdn.hashnode.com/res/hashnode/image/upload/v1694517472568/6ba7b63e-ab0f-4704-893c-7b5c5273d1c3.png?auto=compress,format&format=webp align="left")

**Step 4:** Use the **terraform plan** command to preview changes before applying them.

![](https://cdn.hashnode.com/res/hashnode/image/upload/v1694517502006/cd9b0125-3b93-468e-aa5b-5fb276b3f42a.png?auto=compress,format&format=webp align="left")

**Step 5:** Use the **terraform apply** the command to apply changes to your infrastructure.

![](https://cdn.hashnode.com/res/hashnode/image/upload/v1694517528916/c6845ddb-3ed6-4242-b5eb-5c4672e8d2f4.png?auto=compress,format&format=webp align="left")

![](https://cdn.hashnode.com/res/hashnode/image/upload/v1694517550547/893e5a48-685c-4045-94c9-b5f277aede64.png?auto=compress,format&format=webp align="left")

![](https://cdn.hashnode.com/res/hashnode/image/upload/v1694518095589/4d05bcd7-e548-4e8d-9c2f-52ad1bfa1dce.png?auto=compress,format&format=webp align="left")

**Step 6:** Use the **terraform destroy** command to destroy resources created by your configuration.